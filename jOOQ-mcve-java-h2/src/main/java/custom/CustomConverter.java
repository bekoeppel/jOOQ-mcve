package custom;

import org.jooq.*;

/** Store null as "nil" */
public class CustomConverter implements Converter<String, CustomType> {

    @Override
    public CustomType from(String databaseObject) {
        if (databaseObject == null) {
            return null;
        } else if (databaseObject.equals("nil")) {
            return null;
        } else {
            return new CustomType(databaseObject);
        }
    }

    @Override
    public String to(CustomType userObject) {
        if (userObject == null || userObject.getValue() == null) {
            return "nil";
        } else {
            return userObject.getValue();
        }
    }

    @Override
    public Class<String> fromType() {
        return String.class;
    }

    @Override
    public Class<CustomType> toType() {
        return CustomType.class;
    }
}

